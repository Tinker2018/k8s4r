---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  name: robots.robot.k8s4r.io
spec:
  group: robot.k8s4r.io
  names:
    kind: Robot
    listKind: RobotList
    plural: robots
    shortNames:
    - rb
    singular: robot
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.robotId
      name: RobotID
      type: string
    - jsonPath: .status.phase
      name: Phase
      type: string
    - jsonPath: .status.deviceInfo.hostname
      name: Hostname
      type: string
    - jsonPath: .status.deviceInfo.platform.os
      name: OS
      type: string
    - jsonPath: .status.deviceInfo.cpu.logicalCores
      name: CPUs
      type: integer
    - jsonPath: .status.lastHeartbeatTime
      name: LastHeartbeat
      type: date
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Robot is the Schema for the robots API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: RobotSpec defines the desired state of Robot
            properties:
              description:
                description: Description 是机器人的描述信息
                type: string
              labels:
                additionalProperties:
                  type: string
                description: Labels 是机器人的标签
                type: object
              robotId:
                description: RobotID 是机器人的唯一标识符
                type: string
            required:
            - robotId
            type: object
          status:
            description: RobotStatus defines the observed state of Robot
            properties:
              deviceInfo:
                description: DeviceInfo 是设备的硬件信息
                properties:
                  bootTime:
                    description: BootTime 系统启动时间
                    format: date-time
                    type: string
                  cpu:
                    description: CPU CPU 信息
                    properties:
                      logicalCores:
                        description: LogicalCores 逻辑核心数（含超线程）
                        type: integer
                      mhz:
                        description: Mhz CPU 频率
                        type: number
                      modelName:
                        description: ModelName CPU 型号
                        type: string
                      perCpuUsage:
                        description: PerCPUUsage 每个 CPU 核心的使用率
                        items:
                          type: number
                        type: array
                      physicalCores:
                        description: PhysicalCores 物理核心数
                        type: integer
                      usagePercent:
                        description: UsagePercent CPU 使用率（0-100）
                        type: number
                      vendor:
                        description: Vendor CPU 厂商
                        type: string
                    type: object
                  disks:
                    description: Disks 磁盘分区信息列表
                    items:
                      description: DiskInfo 磁盘分区信息
                      properties:
                        device:
                          description: Device 设备名称 (/dev/sda1)
                          type: string
                        free:
                          description: Free 空闲容量（字节）
                          format: int64
                          type: integer
                        fsType:
                          description: FSType 文件系统类型 (ext4, xfs, apfs, ntfs)
                          type: string
                        inodesFree:
                          description: InodesFree 空闲 inode 数
                          format: int64
                          type: integer
                        inodesTotal:
                          description: InodesTotal 总 inode 数
                          format: int64
                          type: integer
                        inodesUsed:
                          description: InodesUsed 已使用 inode 数
                          format: int64
                          type: integer
                        mountPoint:
                          description: MountPoint 挂载点 (/, /home)
                          type: string
                        total:
                          description: Total 总容量（字节）
                          format: int64
                          type: integer
                        usagePercent:
                          description: UsagePercent 使用率（0-100）
                          type: number
                        used:
                          description: Used 已使用容量（字节）
                          format: int64
                          type: integer
                      type: object
                    type: array
                  hostname:
                    description: Hostname 主机名
                    type: string
                  lastUpdated:
                    description: LastUpdated 信息最后更新时间
                    format: date-time
                    type: string
                  memory:
                    description: Memory 内存信息
                    properties:
                      available:
                        description: Available 可用内存（字节）
                        format: int64
                        type: integer
                      buffers:
                        description: Buffers 缓冲区内存（字节，Linux）
                        format: int64
                        type: integer
                      cached:
                        description: Cached 缓存内存（字节，Linux）
                        format: int64
                        type: integer
                      free:
                        description: Free 空闲内存（字节）
                        format: int64
                        type: integer
                      total:
                        description: Total 总内存（字节）
                        format: int64
                        type: integer
                      usagePercent:
                        description: UsagePercent 内存使用率（0-100）
                        type: number
                      used:
                        description: Used 已使用内存（字节）
                        format: int64
                        type: integer
                    type: object
                  networkInterfaces:
                    description: NetworkInterfaces 网卡信息列表
                    items:
                      description: NetworkInterface 网络接口信息
                      properties:
                        addresses:
                          description: Addresses IP 地址列表（包含子网掩码，如 192.168.1.100/24）
                          items:
                            type: string
                          type: array
                        bytesRecv:
                          description: BytesRecv 接收字节数
                          format: int64
                          type: integer
                        bytesSent:
                          description: BytesSent 发送字节数
                          format: int64
                          type: integer
                        dropin:
                          description: Dropin 接收丢包数
                          format: int64
                          type: integer
                        dropout:
                          description: Dropout 发送丢包数
                          format: int64
                          type: integer
                        errin:
                          description: Errin 接收错误数
                          format: int64
                          type: integer
                        errout:
                          description: Errout 发送错误数
                          format: int64
                          type: integer
                        flags:
                          description: Flags 接口标志 (UP, BROADCAST, MULTICAST)
                          items:
                            type: string
                          type: array
                        hardwareAddr:
                          description: HardwareAddr MAC 地址
                          type: string
                        mtu:
                          description: MTU 最大传输单元
                          type: integer
                        name:
                          description: Name 接口名称 (eth0, en0, wlan0)
                          type: string
                        packetsRecv:
                          description: PacketsRecv 接收包数
                          format: int64
                          type: integer
                        packetsSent:
                          description: PacketsSent 发送包数
                          format: int64
                          type: integer
                      type: object
                    type: array
                  platform:
                    description: Platform 平台信息
                    properties:
                      arch:
                        description: Arch 架构 (amd64, arm64, i386)
                        type: string
                      kernelArch:
                        description: KernelArch 内核架构
                        type: string
                      kernelVersion:
                        description: KernelVersion 内核版本
                        type: string
                      os:
                        description: OS 操作系统类型 (linux, darwin, windows)
                        type: string
                      platform:
                        description: Platform 平台名称 (ubuntu, centos, darwin)
                        type: string
                      platformFamily:
                        description: PlatformFamily 平台家族 (debian, rhel, darwin)
                        type: string
                      platformVersion:
                        description: PlatformVersion 平台版本
                        type: string
                    type: object
                  swap:
                    description: Swap 交换分区信息
                    properties:
                      free:
                        description: Free 空闲交换空间（字节）
                        format: int64
                        type: integer
                      total:
                        description: Total 总交换空间（字节）
                        format: int64
                        type: integer
                      usagePercent:
                        description: UsagePercent 交换空间使用率（0-100）
                        type: number
                      used:
                        description: Used 已使用交换空间（字节）
                        format: int64
                        type: integer
                    type: object
                  uptime:
                    description: Uptime 系统运行时间（秒）
                    format: int64
                    type: integer
                type: object
              lastHeartbeatTime:
                description: LastHeartbeatTime 是最后一次心跳的时间
                format: date-time
                type: string
              message:
                description: Message 是状态的详细信息
                type: string
              phase:
                description: Phase 表示机器人的当前状态
                enum:
                - Pending
                - Online
                - Offline
                - Unknown
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
